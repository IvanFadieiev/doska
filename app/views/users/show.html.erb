<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>


<p id="notice"><%= notice %></p>
<center>
<div class="round-image-300">
<%= image_tag(@user.avatar.url(:medium)) %>
</div>

<p>
  <strong>User:</strong>
  <%= @user.user %>
</p>

<p>
  <strong>Full name:</strong>
  <%= @user.full_name %>
</p>

<p>
  <strong>Birthday:</strong>
  <%= @user.birthday %>
</p>

<p>
  <strong>Email:</strong>
  <%= @user.email %>
</p>

<p>
  <strong>Adress:</strong>
  <%= @user.adress %>
</p>

<p>
  <strong>City:</strong>
  <%= @user.city %>
</p>

<p>
  <strong>Country:</strong>
  <%= @user.country %>
</p>
<br>



<script type="text/javascript">
    function set_map(adress, city){
      var mapOptions = {
        center: new google.maps.LatLng(25.687944,-100.309403),
        zoom: 8,
        mapTypeId: google.maps.MapTypeId.ROADMAP
      };
      var map = new google.maps.Map(document.getElementById("map-canvas"),
      mapOptions);

      if(adress == ""){
        address = city;
      }else{
        address = adress + ',' + city;
      }

      var geocoder = new google.maps.Geocoder();

      geocoder.geocode({
        'address':address
      },

      function(result, status){
        if (status == google.maps.GeocoderStatus.OK){
          map.setCenter(result[0].geometry.location);

          var marker = new google.maps.Marker({
            map: map,
            position: result[0].geometry.location
          });
        }else{
          alert("Geocode was not successful for the following reason: " + status);
        }
      });
      return false;
    }

    $(document).ready(function(){
      set_map('<%= @user.city %>', '<%= @user.adress %>');
    })
  </script>
    
 
  <br />
  <br />
  <div id="map-canvas" style="width:300px;height:200px"/>

</div>



<%= link_to 'Edit', edit_user_path(@user) %> |
<%= link_to 'Listing Users', users_path %> |
<%= link_to "Sign out", signout_path, method: "delete" %>|
</center>